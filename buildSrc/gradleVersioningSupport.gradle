assert rootProject.hasProperty('intendedGradleVersion')

// To upgrade the version of Gradle, use `gw wrapper -PbypassGradleVersionCheck=true`
if (gradle.gradleVersion != rootProject.intendedGradleVersion && !bypassGradleVersionCheck) {
    throw new GradleException("This build is written for Gradle ${rootProject.intendedGradleVersion} but has been executed with Gradle ${gradle.gradleVersion}.")
}

allprojects {

    //noinspection GrUnresolvedAccess
    task wrapper(type: Wrapper) {
        gradleVersion = rootProject.intendedGradleVersion
    }

}
